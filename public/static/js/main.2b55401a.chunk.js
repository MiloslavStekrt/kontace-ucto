(this["webpackJsonpclient-new"]=this["webpackJsonpclient-new"]||[]).push([[0],{18:function(e,t,n){},20:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(12),o=n.n(r),s=(n(18),n(8)),l=n.n(s),i=n(9),u=n(2),d=n(13),j=n(3),b=(n(20),n(6)),h=n(0);var m=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(j.a)(r,2),s=o[0],m=o[1],O=Object(c.useState)(!1),x=Object(j.a)(O,2),f=x[0],p=x[1],g=Object(c.useState)(!1),v=Object(j.a)(g,2),k=v[0],y=v[1],N=Object(c.useState)({name:"",cost:"",md:"",d:""}),C=Object(j.a)(N,2),S=C[0],z=C[1],w=Object(c.useState)({id:"",name:"",cost:"",md:"",d:""}),T=Object(j.a)(w,2),P=T[0],E=T[1],I=Object(c.useState)([{id:Object(b.v4)(),name:"Name of operation",cost:"100",md:"011",d:"210"}]),D=Object(j.a)(I,2),F=D[0],J=D[1];Object(c.useEffect)((function(){k&&localStorage.setItem("operations",JSON.stringify(F))}),[F]),Object(c.useEffect)((function(){k&&localStorage.setItem("name",n)}),[n]),Object(c.useEffect)((function(){null!=localStorage.getItem("operations")&&J(JSON.parse(localStorage.getItem("operations"))),null!=localStorage.getItem("name")&&a(localStorage.getItem("name")),y(!0)}),[]);var U=1;function M(){return(M=Object(d.a)(l.a.mark((function e(){var t,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(p(!0),t=n||"",c=0;t.length<5&&c<10;)(t=prompt("Musite vyplnit nazev, ktery je alespon 5 znaku :D"))||(t="Err"),c++;if(10!=c){e.next=6;break}return e.abrupt("return",alert("N\xe1zev nespl\u0148uje podm\xednky"));case 6:if(confirm("Jste si jisty ze chcete tuto sablonu pouzit?")){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,fetch("/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({operations:F,name:t})});case 11:r=e.sent,p(!1),404==r.status?alert("Tato aplikace nemuze bezet bez serveru, ktery ma za ucelem pripojeni k databazi,.. prosim pripojte se k serveru... nebo zkontrolujte pripojeni k internetu."):403==r.status?alert("P\u0159\xedstup odm\xedtnut va\u0161e autorizace nen\xed dostate\u010dn\xe1."):200==r.status?setTimeout((function(){alert("Vas vytvor byl ulozen do databaze a budete presmerovani na hlavni stranku"),J([]),a(""),window.location.href="/"}),1e3):alert("Neco se pokazilo pri pokusu o navazani pripojeni k serveru...");case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t,n){var c=e[Object.keys(e)[0]];if(""==c&&(c="0"),!(String(c).match(/^[0-9]+$/)&&c.length>=t))return!1;"select"==n?E(Object(u.a)(Object(u.a)({},P),e)):z(Object(u.a)(Object(u.a)({},S),e))}function L(e,t,n,c){var a=e[Object.keys(e)[0]].length;return a<=n&&a>=t&&K(e,t,c)}function B(){for(var e in Object.values(P))if(e.length<1)return console.log("fuck you");for(var t,n=0;n<F.length;n++)F[n].id==P.id&&(t=n);var c=F;"number"==typeof t&&(c[t]=P,J(c),E({id:"",name:"",cost:"",md:"",d:""}),m(!1))}var V=function(e){return console.log("Enter"==e.key?B():"")},A=function(e){return E(F.find((function(t){return t.id==e})))};return Object(h.jsxs)("div",{className:"App bg-dark text-white text-center pb-5",onClick:B,children:[Object(h.jsx)("div",{className:"container mb-5 pb-3",onClick:function(e){return e.stopPropagation()},children:Object(h.jsxs)("table",{className:"table table-hover table-dark ",children:[Object(h.jsxs)("thead",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{}),Object(h.jsx)("th",{colSpan:"4",className:"",id:"addon",children:Object(h.jsxs)("div",{className:"input-group my-5",children:[Object(h.jsx)("label",{htmlFor:"name",className:"input-group-text bg-secondary","aria-describedby":"addon",children:"N\xe1zev: "}),Object(h.jsx)("input",{type:"text",placeholder:"Zadejte n\xe1zev",className:"form-control bg-dark text-white text-center fs-4",value:n,onChange:function(e){return a(e.target.value)}})]})}),Object(h.jsx)("th",{})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"\u010c\xedslo"}),Object(h.jsx)("th",{children:"Jm\xe9no"}),Object(h.jsx)("th",{children:"\u010c\xe1stka"}),Object(h.jsx)("th",{children:"MD"}),Object(h.jsx)("th",{children:"D"}),Object(h.jsx)("th",{})]})]}),Object(h.jsx)("tbody",{children:F.map((function(e,t){return U++,P&&e.id==P.id?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:U-1}),Object(h.jsx)("td",{className:"col-7",children:Object(h.jsx)("input",{className:"form-control bg-dark text-white text-center",type:"text",value:P.name,onKeyPress:function(e){V(e)},onChange:function(e){return E(Object(u.a)(Object(u.a)({},P),{},{name:e.target.value}))},placeholder:"N\xe1zev operace"})}),Object(h.jsx)("td",{className:"col-2",children:Object(h.jsx)("input",{className:"form-control bg-dark text-white text-center",type:"text",value:P.cost,onKeyPress:function(e){V(e)},onChange:function(e){return K({cost:e.target.value},0,"select")},placeholder:"\u010c\xe1stka..."})}),Object(h.jsx)("td",{className:"col-1",children:Object(h.jsx)("input",{className:"form-control bg-dark text-white text-center",type:"text",value:P.md,onKeyPress:function(e){V(e)},list:"account-UCTO",onChange:function(e){return L({md:e.target.value},0,3,"select")},placeholder:"Ma d\xe1ti..."})}),Object(h.jsx)("td",{className:"col-1",children:Object(h.jsx)("input",{className:"form-control bg-dark text-white text-center",type:"text",value:P.d,onKeyPress:function(e){V(e)},list:"account-UCTO",onChange:function(e){return L({d:e.target.value},0,3,"select")},placeholder:"Dal..."})}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{onClick:B,className:"btn btn-success form-control",children:"\u21ba"})})]}),Object(h.jsxs)("tr",{hidden:s,children:[Object(h.jsx)("td",{}),Object(h.jsx)("td",{colSpan:"4",children:Object(h.jsx)("button",{onClick:function(e){return m(!0)},className:"form-control btn btn-secondary text-white-50",children:"P\u0159idat sem"})}),Object(h.jsx)("td",{})]})]}):Object(h.jsxs)("tr",{onClick:function(e){return function(e){var t=e.target.children;e.target.parentElement.children[5]&&A(e.target.parentElement.children[5].children[0].value),console.log(e.target.parentElement),setTimeout((function(){e.target.children[0]&&t[0].focus()}),100)}(e)},children:[Object(h.jsx)("td",{children:t+1}),Object(h.jsx)("td",{children:e.name}),Object(h.jsx)("td",{children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e.cost).replace(/,/g," ")}),Object(h.jsx)("td",{children:e.md}),Object(h.jsx)("td",{children:e.d}),Object(h.jsx)("td",{className:"justify-content-between d-flex pb-1",children:Object(h.jsx)("button",{value:e.id,onClick:function(e){return t=e.target.value,J(Object(i.a)(F.filter((function(e){return e.id!=t}))));var t},className:"form-control btn btn-danger",children:"X"})})]})}))}),Object(h.jsx)("tfoot",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:U}),Object(h.jsx)("td",{className:"col-7",children:Object(h.jsx)("input",{className:"form-control bg-dark text-white text-center",type:"text",value:S.name,onChange:function(e){return z(Object(u.a)(Object(u.a)({},S),{},{name:e.target.value}))},placeholder:"N\xe1zev operace..."})}),Object(h.jsx)("td",{className:"col-2",children:Object(h.jsx)("input",{className:"form-control bg-dark text-white text-center",type:"text",value:S.cost,onChange:function(e){return K({cost:e.target.value},0)},placeholder:"\u010c\xe1stka..."})}),Object(h.jsx)("td",{className:"col-1",children:Object(h.jsx)("input",{list:"account-UCTO",className:"form-control bg-dark text-white text-center",type:"text",value:S.md,onChange:function(e){return L({md:e.target.value},0,3)},placeholder:"Ma d\xe1ti..."})}),Object(h.jsx)("td",{className:"col-1",children:Object(h.jsx)("input",{list:"account-UCTO",className:"form-control bg-dark text-white text-center",type:"text",value:S.d,onChange:function(e){return L({d:e.target.value},0,3)},placeholder:"Dal..."})}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{onClick:s?function(){if(P.id){for(var e=0,t=Object.values(S);e<t.length;e++){if(t[e].length<1)return}for(var n=0,c=Object(u.a)(Object(u.a)({},S),{},{id:Object(b.v4)()}),a=F,r=0;r<F.length;r++)F[r].id==P.id&&(n=r);a.splice(n+1,0,c),console.log(a),"number"==typeof n&&(J(a),B(),z({name:"",cost:"",md:"",d:""}))}}:function(){for(var e=0,t=Object.values(S);e<t.length;e++){if(t[e].length<1)return}J([].concat(Object(i.a)(F),[Object(u.a)(Object(u.a)({},S),{},{id:Object(b.v4)()})])),z({name:"",cost:"",md:"",d:""})},className:"btn btn-success form-control",children:"+"})})]})})]})}),Object(h.jsxs)("div",{className:"flaoting",onClick:function(e){return e.stopPropagation()},children:[Object(h.jsx)("button",{onClick:function(e){return confirm("Opravdu? Tato akci snaze vsechny operace a nazev...")?J([])&&a(""):""},className:"fs-4 btn me-3 btn-danger",children:"Smazat"}),Object(h.jsx)("button",{onClick:function(){return M.apply(this,arguments)},className:"fs-4 btn btn-primary",children:"Vytvorit"})]}),Object(h.jsx)("div",{className:"loading",hidden:!f,children:Object(h.jsx)("h1",{children:"Loading..."})})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(m,{})}),document.getElementById("root")),O()}},[[24,1,2]]]);
//# sourceMappingURL=main.2b55401a.chunk.js.map