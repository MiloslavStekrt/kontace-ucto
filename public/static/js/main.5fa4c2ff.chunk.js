(this["webpackJsonpclient-new"]=this["webpackJsonpclient-new"]||[]).push([[0],{18:function(e,t,n){},20:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(12),o=n.n(r),s=(n(18),n(8)),l=n.n(s),i=n(9),u=n(2),j=n(13),d=n(3),b=(n(20),n(6)),h=n(0);var m=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),o=Object(d.a)(r,2),s=o[0],m=o[1],O=Object(c.useState)({name:"",cost:"",md:"",d:""}),x=Object(d.a)(O,2),p=x[0],f=x[1],g=Object(c.useState)({id:"",name:"",cost:"",md:"",d:""}),v=Object(d.a)(g,2),k=v[0],N=v[1],y=Object(c.useState)([{id:Object(b.v4)(),name:"Name of operation",cost:"100",md:"011",d:"210"}]),C=Object(d.a)(y,2),S=C[0],z=C[1],w=Object(c.useState)(!1),T=Object(d.a)(w,2),I=T[0],D=T[1];Object(c.useEffect)((function(){n&&localStorage.setItem("operations",JSON.stringify(S))}),[S]),Object(c.useEffect)((function(){n&&localStorage.setItem("name",s)}),[s]),Object(c.useEffect)((function(){null!=localStorage.getItem("operations")&&z(JSON.parse(localStorage.getItem("operations"))),null!=localStorage.getItem("name")&&m(localStorage.getItem("name")),a(!0)}),[]);var F=1;function E(){return(E=Object(j.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=s||"",n=0;t.length<5&&n<10;)(t=prompt("Musite vyplnit nazev, ktery je alespon 5 znaku :D"))||(t="Err"),n++;if(10!=n){e.next=5;break}return e.abrupt("return",alert("N\xe1zev nespl\u0148uje podm\xednky"));case 5:if(confirm("Jste si jisty ze chcete tuto sablonu pouzit?")){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,fetch("/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({operations:S,name:t})});case 10:404==(c=e.sent).status?alert("Tato aplikace nemuze bezet bez serveru, ktery ma za ucelem pripojeni k databazi,.. prosim pripojte se k serveru... nebo zkontrolujte pripojeni k internetu."):403==c.status?alert("P\u0159\xedstup odm\xedtnut va\u0161e autorizace nen\xed dostate\u010dn\xe1."):200==c.status?setTimeout((function(){alert("Vas vytvor byl ulozen do databaze a budete presmerovani na hlavni stranku"),z([]),m(""),window.location.href="/"}),1e3):alert("Neco se pokazilo pri pokusu o navazani pripojeni k serveru...");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t,n){var c=e[Object.keys(e)[0]];if(""==c&&(c="0"),!(String(c).match(/^[0-9]+$/)&&c.length>=t))return!1;"select"==n?N(Object(u.a)(Object(u.a)({},k),e)):f(Object(u.a)(Object(u.a)({},p),e))}function P(e,t,n,c){var a=e[Object.keys(e)[0]].length;return a<=n&&a>=t&&J(e,t,c)}function U(){for(var e in Object.values(k))if(e.length<1)return console.log("fuck you");for(var t,n=0;n<S.length;n++)S[n].id==k.id&&(t=n);var c=S;t&&(c[t]=k),z(c),N({id:"",name:"",cost:"",md:"",d:""}),D(!1)}var M=function(e){return N(S.find((function(t){return t.id==e})))};return Object(h.jsxs)("div",{className:"App bg-dark text-white text-center pb-5",onClick:U,children:[Object(h.jsx)("div",{className:"container mb-5 pb-3",onClick:function(e){return e.stopPropagation()},children:Object(h.jsxs)("table",{className:"table table-hover table-dark ",children:[Object(h.jsxs)("thead",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{}),Object(h.jsx)("th",{colSpan:"4",className:"",id:"addon",children:Object(h.jsxs)("div",{className:"input-group my-5",children:[Object(h.jsx)("label",{htmlFor:"name",className:"input-group-text bg-secondary","aria-describedby":"addon",children:"N\xe1zev: "}),Object(h.jsx)("input",{type:"text",placeholder:"Zadejte n\xe1zev",className:"form-control bg-dark text-white text-center fs-4",value:s,onChange:function(e){return m(e.target.value)}})]})}),Object(h.jsx)("th",{})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"\u010c\xedslo"}),Object(h.jsx)("th",{children:"Jm\xe9no"}),Object(h.jsx)("th",{children:"\u010c\xe1stka"}),Object(h.jsx)("th",{children:"MD"}),Object(h.jsx)("th",{children:"D"}),Object(h.jsx)("th",{})]})]}),Object(h.jsx)("tbody",{children:S.map((function(e,t){return F++,k&&e.id==k.id?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:F-1}),Object(h.jsx)("td",{className:"col-7",children:Object(h.jsx)("input",{className:"form-control bg-dark text-white text-center",type:"text",value:k.name,onChange:function(e){return N(Object(u.a)(Object(u.a)({},k),{},{name:e.target.value}))},placeholder:"N\xe1zev operace"})}),Object(h.jsx)("td",{className:"col-2",children:Object(h.jsx)("input",{className:"form-control bg-dark text-white text-center",type:"text",value:k.cost,onChange:function(e){return J({cost:e.target.value},0,"select")},placeholder:"\u010c\xe1stka..."})}),Object(h.jsx)("td",{className:"col-1",children:Object(h.jsx)("input",{className:"form-control bg-dark text-white text-center",type:"text",value:k.md,list:"account-UCTO",onChange:function(e){return P({md:e.target.value},0,3,"select")},placeholder:"Ma d\xe1ti..."})}),Object(h.jsx)("td",{className:"col-1",children:Object(h.jsx)("input",{className:"form-control bg-dark text-white text-center",type:"text",value:k.d,list:"account-UCTO",onChange:function(e){return P({d:e.target.value},0,3,"select")},placeholder:"Dal..."})}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{onClick:U,className:"btn btn-success form-control",children:"\u21ba"})})]}),Object(h.jsxs)("tr",{hidden:I,children:[Object(h.jsx)("td",{}),Object(h.jsx)("td",{colSpan:"4",children:Object(h.jsx)("button",{onClick:function(e){return D(!0)},className:"form-control btn btn-secondary text-white-50",children:"P\u0159idat sem"})}),Object(h.jsx)("td",{})]})]}):Object(h.jsxs)("tr",{onClick:function(e){return function(e){var t=e.target.children;setTimeout((function(){t[0]&&t[0].focus(),e.target.parentElement.children[5]&&M(e.target.parentElement.children[5].children[0].value)}),0)}(e)},children:[Object(h.jsx)("td",{children:t+1}),Object(h.jsx)("td",{children:e.name}),Object(h.jsx)("td",{children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e.cost).replace(/,/g," ")}),Object(h.jsx)("td",{children:e.md}),Object(h.jsx)("td",{children:e.d}),Object(h.jsx)("td",{className:"justify-content-between d-flex pb-1",children:Object(h.jsx)("button",{value:e.id,onClick:function(e){return t=e.target.value,z(Object(i.a)(S.filter((function(e){return e.id!=t}))));var t},className:"form-control btn btn-danger",children:"X"})})]})}))}),Object(h.jsx)("tfoot",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:F}),Object(h.jsx)("td",{className:"col-7",children:Object(h.jsx)("input",{className:"form-control bg-dark text-white text-center",type:"text",value:p.name,onChange:function(e){return f(Object(u.a)(Object(u.a)({},p),{},{name:e.target.value}))},placeholder:"N\xe1zev operace..."})}),Object(h.jsx)("td",{className:"col-2",children:Object(h.jsx)("input",{className:"form-control bg-dark text-white text-center",type:"text",value:p.cost,onChange:function(e){return J({cost:e.target.value},0)},placeholder:"\u010c\xe1stka..."})}),Object(h.jsx)("td",{className:"col-1",children:Object(h.jsx)("input",{list:"account-UCTO",className:"form-control bg-dark text-white text-center",type:"text",value:p.md,onChange:function(e){return P({md:e.target.value},0,3)},placeholder:"Ma d\xe1ti..."})}),Object(h.jsx)("td",{className:"col-1",children:Object(h.jsx)("input",{list:"account-UCTO",className:"form-control bg-dark text-white text-center",type:"text",value:p.d,onChange:function(e){return P({d:e.target.value},0,3)},placeholder:"Dal..."})}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{onClick:I?function(){if(k.id){for(var e=0,t=Object.values(p);e<t.length;e++){if(t[e].length<1)return}for(var n=0,c=Object(u.a)(Object(u.a)({},p),{},{id:Object(b.v4)()}),a=S,r=0;r<S.length;r++)S[r].id==k.id&&(n=r);a.splice(n+1,0,c),console.log(a),n&&(z(a),U(),f({name:"",cost:"",md:"",d:""}))}}:function(){for(var e=0,t=Object.values(p);e<t.length;e++){if(t[e].length<1)return}z([].concat(Object(i.a)(S),[Object(u.a)(Object(u.a)({},p),{},{id:Object(b.v4)()})])),f({name:"",cost:"",md:"",d:""})},className:"btn btn-success form-control",children:"+"})})]})})]})}),Object(h.jsxs)("div",{className:"flaoting",onClick:function(e){return e.stopPropagation()},children:[Object(h.jsx)("button",{onClick:function(e){return confirm("Opravdu? Tato akci snaze vsechny operace a nazev...")?z([])&&m(""):""},className:"fs-4 btn me-3 btn-danger",children:"Smazat"}),Object(h.jsx)("button",{onClick:function(){return E.apply(this,arguments)},className:"fs-4 btn btn-primary",children:"Vytvorit"})]})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(m,{})}),document.getElementById("root")),O()}},[[24,1,2]]]);
//# sourceMappingURL=main.5fa4c2ff.chunk.js.map